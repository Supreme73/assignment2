{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{% static 'styles/STYLES.css' %}" />
    <link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Playwrite+AU+VIC:wght@100..400&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
    <title>rca web</title>
</head>

<body>
    <!-- header -->
    <header>
        <nav>

        <div class="nav-1" id="">
            <nav class="navbar">
                <img src="{% static 'assests/logo.webp' %}" class="logo">
                <a href="#">HOME</a>
                <a href="#">ABOUT</a>
                <a href="#">ARTIST</a>
                <a href="#">NEWS</a>
                <a href="#">SHOP</a>

                
            </nav>

                
    {% block content %}

    {% endblock %}
    <div class="chat-box-cont">
        <div class="chat-box" onclick="toggleChat()">
            <p>Live Chat</p>
            <img src="{% static 'assests/album_photos/chat-bot.jpg' %}" alt="Chat Bot">
        </div>
        <div class="chat-window" id="chatWindow">
            <div class="chat-header">
                <span>Live Chat</span>
                <button onclick="toggleChat()">X</button>
            </div>
            <div class="chat-body" id="chatBody">
                <div class="online-status">
                    <span></span>
                    Stacy has joined 
                </div>
                <hr style="margin-bottom: 10px;"> 
                <!-- Messages will be appended here -->
            </div>
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Type a message...">
                <button onclick="sendMessage()">Send</button>
            </div>
        </div>
    </div>

<script>
  document.getElementById('menu-toggle').addEventListener('click', function(event) {
    event.preventDefault(); // Prevent the default anchor click behavior
    document.getElementById('menu-container').classList.toggle('active');
});

function toggleChat() {
    const chatWindow = document.getElementById('chatWindow');
    chatWindow.style.display = chatWindow.style.display === 'none' || chatWindow.style.display === '' ? 'flex' : 'none';

    if (chatWindow.style.display === 'flex') {
        initiateChatSequence();
    }
}

function initiateChatSequence() {
    const chatBody = document.getElementById('chatBody');
    chatBody.innerHTML = ''; // Clear previous messages

    // Step 1: Show "searching for customer agent"
    const searchingMessage = document.createElement('div');
    searchingMessage.className = 'message system';
    searchingMessage.innerHTML = `<div class="content">... searching for customer agent ...</div>`;
    chatBody.appendChild(searchingMessage);
    
    setTimeout(() => {
        // Step 2: Show "Albert is connected"
        searchingMessage.innerHTML = `<div class="content">Albert is connected</div>`;

        setTimeout(() => {
            // Step 3: Albert says "hello there, how may i assist you today"
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.innerHTML = `<img src="{% static 'assests/album_photos/chat-bot.jpg' %}" alt="Bot"><div class="content">Hello there, how may I assist you today?</div>`;
            chatBody.appendChild(botMessage);
            chatBody.scrollTop = chatBody.scrollHeight;
        }, 2000);
    }, 5000);
}

function sendMessage() {
    const input = document.getElementById('chatInput');
    const message = input.value.trim();
    if (message !== '') {
        const chatBody = document.getElementById('chatBody');
        const userMessage = document.createElement('div');
        userMessage.className = 'message user';
        userMessage.innerHTML = `<img src="{% static 'assests/album_photos/person_icon.jpeg' %}" alt="User"><div class="content">${message}</div>`;
        chatBody.appendChild(userMessage);
        input.value = '';

        // Simulate bot response
        setTimeout(() => {
            const botMessage = document.createElement('div');
            botMessage.className = 'message bot';
            botMessage.innerHTML = `<img src="{% static 'assests/album_photos/chat-bot.jpg' %}" alt="Bot"><div class="content">Now Albert will assist you further. Since this is a prototype, we cannot connect to an actual customer service agent, but this will be live chat service </div>`;
            chatBody.appendChild(botMessage);
            chatBody.scrollTop = chatBody.scrollHeight;
        }, 1000);
    }
}

document.getElementById('chatInput').addEventListener('keypress', function (e) {
    if (e.key === 'Enter') {
        sendMessage();
    }
});

// Change "Chat Bot" to "Live Chat"
document.querySelector('.chat-header span').textContent = 'Live Chat';



</script>


    </header>



</body>
</html>